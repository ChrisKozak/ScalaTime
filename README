This is a quick stab at creating a DSL in Scala as expressive as I could make in Ruby.